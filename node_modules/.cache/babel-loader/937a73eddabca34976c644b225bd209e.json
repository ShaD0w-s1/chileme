{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\jingdong1\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\jingdong1\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Administrator\\Desktop\\jingdong1\\src\\effects\\addressEffect.js","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\jingdong1\\src\\effects\\addressEffect.js","mtime":1607781829000},{"path":"C:\\Users\\Administrator\\Desktop\\jingdong1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1631784045309},{"path":"C:\\Users\\Administrator\\Desktop\\jingdong1\\node_modules\\babel-loader\\lib\\index.js","mtime":1631784048130},{"path":"C:\\Users\\Administrator\\Desktop\\jingdong1\\node_modules\\eslint-loader\\index.js","mtime":1631784046019}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0FkbWluaXN0cmF0b3IvRGVza3RvcC9qaW5nZG9uZzEvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IGdldCB9IGZyb20gJy4uL3V0aWxzL3JlcXVlc3QnOwoKdmFyIHVzZUNvbW1vbkFkZHJlc3NFZmZlY3QgPSBmdW5jdGlvbiB1c2VDb21tb25BZGRyZXNzRWZmZWN0KCkgewogIHZhciBzdG9yZSA9IHVzZVN0b3JlKCk7CgogIHZhciBnZXRBZGRyZXNzTGlzdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShmb3JjZVVwZGF0ZSkgewogICAgICB2YXIgYWRkcmVzc0xpc3QsIF9yZXN1bHQkZGF0YSwgcmVzdWx0OwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGFkZHJlc3NMaXN0ID0gc3RvcmUuc3RhdGUuYWRkcmVzc0xpc3Q7CgogICAgICAgICAgICAgIGlmICghKGZvcmNlVXBkYXRlIHx8ICFhZGRyZXNzTGlzdC5sZW5ndGgpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIGdldCgnL2FwaS91c2VyL2FkZHJlc3MnKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAocmVzdWx0ICE9PSBudWxsICYmIHJlc3VsdCAhPT0gdm9pZCAwICYmIChfcmVzdWx0JGRhdGEgPSByZXN1bHQuZGF0YSkgIT09IG51bGwgJiYgX3Jlc3VsdCRkYXRhICE9PSB2b2lkIDAgJiYgX3Jlc3VsdCRkYXRhLmxlbmd0aCkgewogICAgICAgICAgICAgICAgc3RvcmUuY29tbWl0KCdjaGFuZ2VBZGRyZXNzTGlzdCcsIHJlc3VsdC5kYXRhKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpOwoKICAgIHJldHVybiBmdW5jdGlvbiBnZXRBZGRyZXNzTGlzdChfeCkgewogICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9KCk7CgogIHJldHVybiB7CiAgICBnZXRBZGRyZXNzTGlzdDogZ2V0QWRkcmVzc0xpc3QKICB9Owp9OwoKZXhwb3J0IGRlZmF1bHQgdXNlQ29tbW9uQWRkcmVzc0VmZmVjdDs="},{"version":3,"sources":["C:/Users/Administrator/Desktop/jingdong1/src/effects/addressEffect.js"],"names":["useStore","get","useCommonAddressEffect","store","getAddressList","forceUpdate","addressList","state","length","result","data","commit"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,MAAzB;AACA,SAASC,GAAT,QAAoB,kBAApB;;AAEA,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAyB,GAAM;AACnC,MAAMC,KAAK,GAAGH,QAAQ,EAAtB;;AAEA,MAAMI,cAAc;AAAA,uEAAG,iBAAOC,WAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AACfC,cAAAA,WADe,GACDH,KAAK,CAACI,KAAN,CAAYD,WADX;;AAAA,oBAElBD,WAAW,IAAI,CAACC,WAAW,CAACE,MAFV;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAGEP,GAAG,CAAC,mBAAD,CAHL;;AAAA;AAGbQ,cAAAA,MAHa;;AAInB,kBAAGA,MAAH,aAAGA,MAAH,+BAAGA,MAAM,CAAEC,IAAX,yCAAG,aAAcF,MAAjB,EAAyB;AACvBL,gBAAAA,KAAK,CAACQ,MAAN,CAAa,mBAAb,EAAkCF,MAAM,CAACC,IAAzC;AACD;;AANkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAdN,cAAc;AAAA;AAAA;AAAA,KAApB;;AAUA,SAAO;AAAEA,IAAAA,cAAc,EAAdA;AAAF,GAAP;AACD,CAdD;;AAgBA,eAAeF,sBAAf","sourcesContent":["import { useStore } from 'vuex'\nimport { get } from '../utils/request'\n\nconst useCommonAddressEffect = () => {\n  const store = useStore()\n\n  const getAddressList = async (forceUpdate) => {\n    const addressList = store.state.addressList;\n    if(forceUpdate || !addressList.length) {\n      const result = await get('/api/user/address')\n      if(result?.data?.length) {\n        store.commit('changeAddressList', result.data)\n      }\n    }\n  }\n\n  return { getAddressList }\n}\n\nexport default useCommonAddressEffect"]}]}